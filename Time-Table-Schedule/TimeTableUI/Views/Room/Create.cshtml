@model IEnumerable<TimeTableUI.Models.VMs.RoomVM>
<div class = "row">
	<div class = "col-md-6 col-lg-6">
		<div class = "card card-custom">
			<div class = "card-header">
				<h3 class = "card-title">
					Create Room
				</h3>
				<div class = "card-toolbar">
					<div class = "example-tools justify-content-center">
						<span class = "example-toggle" data-toggle = "tooltip" title = "View code"></span>
						<span class = "example-copy" data-toggle = "tooltip" title = "Copy code"></span>
					</div>
				</div>
			</div>
			<!--begin::Form-->
			<form id = "roomForm">
				<div class = "card-body">
					<div class = "form-group mb-8">
						<div id = "showMessage"></div>
					</div>
					<div class = "form-group input-group-lg">
						<label>Room Name: <span class = "text-danger">*</span></label>
						<input type = "text" class = "form-control" id = "roomName" name = "name" placeholder = ""/>
					</div>
					<div class = "form-group input-group-lg">
						<label>Has Lab <span class = "text-danger">*</span></label>
						<select class = "form-control" name = "lab" id = "lab">
							<option value = "true">True</option>
							<option value = "false">False</option>

						</select>
					</div>
					<div class = "form-group input-group-lg">
						<label>Capacity <span class = "text-danger">*</span></label>
						<input type = "number" class = "form-control" id = "size" name = "size" placeholder = "eg. 80"/>
					</div>

				</div>
				<div class = "card-footer">
					<button type = "button" id = "saveRoomBtn" class = "btn btn-primary mr-2">Submit</button>
					<button type = "reset" class = "btn btn-secondary">Cancel</button>
				</div>
			</form>
			<!--end::Form-->
		</div>
	</div>

	<div class = "col-md-6 col-lg-6">
		<div class = "card card-custom">
			<div class = "card-header flex-wrap py-3">
				<div class = "card-title">
					<h3 class = "card-label">
						Created Room
					</h3>
				</div>
				@*<div class = "card-toolbar">
				<a href = "#" data-toggle = "modal" data-target = "#kt_modal_Add" id = "addDepartmentBTN" class = "btn btn-primary font-weight-bolder">
					<span class = "svg-icon svg-icon-md">

						<svg xmlns = "http://www.w3.org/2000/svg" xmlns:xlink = "http://www.w3.org/1999/xlink" width = "24px" height = "24px" viewBox = "0 0 24 24" version = "1.1">
							<g stroke = "none" stroke-width = "1" fill = "none" fill-rule = "evenodd">
								<rect x = "0" y = "0" width = "24" height = "24"></rect>
								<circle fill = "#000000" cx = "9" cy = "15" r = "6"></circle>
								<path d = "M8.8012943,7.00241953 C9.83837775,5.20768121 11.7781543,4 14,4 C17.3137085,4 20,6.6862915 20,10 C20,12.2218457 18.7923188,14.1616223 16.9975805,15.1987057 C16.9991904,15.1326658 17,15.0664274 17,15 C17,10.581722 13.418278,7 9,7 C8.93357256,7 8.86733422,7.00080962 8.8012943,7.00241953 Z" fill = "#000000" opacity = "0.3"></path>
							</g>
						</svg>

					</span>New Record
				</a>

			</div>*@
			</div>
			<div class = "card-body">


				<table class = "table" id = "roomTable">
					<thead>
					<tr>
						<th>Name</th>
						<th>Has Lab</th>
						<th>Size</th>
					</tr>
					</thead>
					<tbody>
					@foreach (var data in Model)
					{
						<tr>
							<td>@data.room.name</td>
							<td>@data.room.lab</td>
							<td>@data.room.size</td>
							<td>
								<span >
									<i class = "flaticon2-pen" style = "color: lightseagreen"></i>
								</span>
								<span>
									<i class = "flaticon2-rubbish-bin-delete-button" style = "color: red"></i>
								</span>
							</td>
						</tr>
					}

					</tbody>

				</table>

			</div>
		</div>
	</div>
</div>


<script>
    $(document).ready(function() {
	  //  $('#roomTable').DataTable();


        $(document).on('click',
            '#saveRoomBtn',
            function() {

	            
	            
	            var room = {
		            "room": {
			            "name": $('#roomName').val(),
			            "lab": $('#lab').val(),
			            "size": $('#size').val()
		            }
	            }

                $.ajax({
                    url: $('#base_url').text() + '/Room/Create',
                    type: 'POST',
                    data: room,
                    success: function(data) {
                        if (data == "Room Created Successfully") {
                            $('#showMessage').html(`

                            <div class="alert alert-custom alert-light-primary fade show mb-5" role="alert">
                                <div class="alert-icon"><i class="flaticon2-check-mark"></i></div>
                                <div class="alert-text">${data.message}</div>
                                <div class="alert-close">
                                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                        <span aria-hidden="true"><i class="ki ki-close"></i></span>
                                    </button>
                                </div>
                            </div>


                                                    
                        `);
                        } else {
                            $('#showMessage').html(`
                        <div class="alert alert-custom alert-light-primary fade show mb-5" role="alert">
                            <div class="alert-icon"><i class="flaticon-warning"></i></div>
                            <div class="alert-text">${data.message}</div>
                            <div class="alert-close">
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true"><i class="ki ki-close"></i></span>
                                </button>
                            </div>
                        </div>
                        
                        `);
                        }
                    }

                });
            });
        
    })
</script>